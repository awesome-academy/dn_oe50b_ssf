<% provide :title, t("menu_manager.booking_field") %>
<% provide :base_title, t("base.title") %>
<div class="col-lg-9">
  <table class="table">
    <%= render "layouts/title" %>
    <tbody>
      <% @orders.each do |order| %>
        <tr class="table-<%= handle_layout order.status %>">
          <td><img src="/assets/anh01.jpeg" alt="San1" class="img-booking"></td>
          <td><%= order&.soccer_field_field_name %></td>
          <td><%= order&.soccer_field_type_field %></td>
          <td><%= order&.order_detail_booking_used %></td>
          <td><%= order&.soccer_field.id%></td>
          <td>
            <% if order.pending? %>
              <%= button_tag t("booking.btn_handle"), type: "button", class: "btn btn-danger", data: {toggle: "modal", target: "#model#{order.id}"} %>
            <% else %>
              <%= button_tag t("booking.btn_view"), type: "button", class: "btn btn-primary", data: {toggle: "modal", target: "#model#{order.id}"} %>
            <% end %>
            <!-- Button handle booking -->
            <div class="modal fade" id="model<%= order.id %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title font-weight-bold" id="exampleModalLongTitle"><%= t("booking.detail_booking.detail") %></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body text-left">
                    <h3 class="text-center font-weight-bold">
                      <%= t("booking.detail_booking.status") %>
                      <%= handle_name_status order.status %></h3>
                    <h5>
                      <%= t("booking.detail_booking.date_booking") %>
                      <%= order&.created_at.strftime( t("date_format")) %></h5>
                    <h5>
                      <%= t("booking.detail_booking.time_booking") %>
                      <%= order&.created_at.strftime( t("time_format")) %></h5>
                    <h5>
                      <%= t("booking.detail_booking.name_booking") %>
                      <%= order&.user.name %></h5>
                    <h5>
                      <%= t("booking.detail_booking.phone_booking") %>
                      <%= order&.user.phone %></h5>
                    <h5>
                      <%= t("booking.detail_booking.field") %>
                      <%= order&.soccer_field_field_name %></h5>

                    <h5>
                      <%= t("booking.detail_booking.time") %>
                      <%= order&.order_detail_booking_used %></h5>
                    <h5>
                      <%= t("booking.detail_booking.cost") %>
                      <%= order&.order_detail_current_price %></h5>
                  </div>
                  <div class="modal-footer">
                    <% if order.pending? %>
                      <%= button_tag t("booking.detail_booking.btn_submit"),
                      type: "button", class: "btn btn-primary handle-request-order",
                      data: {id: "#{order.id}", stt: "accept"} %>
                      <%= button_tag t("booking.detail_booking.btn_cancel"),
                      type: "button", class: "btn btn-danger handle-request-order",
                      data: {id: "#{order.id}", stt: "rejected"} %>
                    <% end %>
                    <%= button_tag t("booking.detail_booking.btn_exit"), type: "button", class: "btn btn-secondary", data: {dismiss: "modal"} %>
                  </div>
                </div>
              </div>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <!-- Title -->
  <div class="d-flex justify-content-center">
    <%= will_paginate @orders %>
  </div>
</div>
<%= javascript_pack_tag "handle_request_order" %>

